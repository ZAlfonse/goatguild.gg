---
import type { NewsPost } from '../data/news';

interface Props {
  post: NewsPost;
}

const { post } = Astro.props;

const categoryColors = {
  announcement: 'bg-accent-gold text-midnight-900',
  raid: 'bg-purple-500 text-white',
  recruitment: 'bg-green-500 text-white',
  guide: 'bg-blue-500 text-white',
  event: 'bg-orange-500 text-white',
};

const categoryLabels = {
  announcement: 'Announcement',
  raid: 'Raid',
  recruitment: 'Recruitment',
  guide: 'Guide',
  event: 'Event',
};

const formattedDate = new Date(post.date).toLocaleDateString('en-US', {
  month: 'short',
  day: 'numeric',
  year: 'numeric',
});
---

<article class={`bg-midnight-700 rounded-lg p-4 border ${post.pinned ? 'border-accent-gold' : 'border-midnight-500'}`}>
  <div class="flex items-start justify-between gap-4 mb-2">
    <div class="flex items-center gap-2 flex-wrap">
      <span class={`text-xs font-medium px-2 py-0.5 rounded ${categoryColors[post.category]}`}>
        {categoryLabels[post.category]}
      </span>
      {post.pinned && (
        <span class="text-xs text-accent-gold">ðŸ“Œ Pinned</span>
      )}
    </div>
    <time class="text-xs text-gray-500 shrink-0">{formattedDate}</time>
  </div>
  
  <h3 class="font-semibold text-gray-100 mb-2">{post.title}</h3>
  <p class="text-sm text-gray-400">{post.summary}</p>
  
  <div class="mt-3 text-xs text-gray-500">
    Posted by {post.author}
  </div>
</article>
